<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title></title>
	<script>

		function signup(event) {
			event.preventDefault()

			var login = document.getElementById('signup-login').value;
			var password = document.getElementById('signup-password').value;
			var name = document.getElementById('signup-name').value;

			fetch('api/authentication/signup', {
				method: 'POST',
				headers: {
					'content-type': 'application/json'
				},
				body: JSON.stringify({ login, password, name })
			}).then(function (response) {
				return response.text();
			}).then(function (result) {
				document.getElementById('signup-result').innerText = result;
			});
		}

		function signin(event) {
			event.preventDefault()

			var login = document.getElementById('signin-login').value;
			var password = document.getElementById('signin-password').value;

			fetch('api/authentication/signin', {
				method: 'POST',
				headers: {
					'content-type': 'application/json'
				},
				body: JSON.stringify({ login, password })
			}).then(function (response) {
				return response.text();
			}).then(function (result) {
				document.getElementById('signin-result').innerText = result;
			});
		}

		function me(event) {
			event.preventDefault();

			var token = document.getElementById('me-token').value;

			fetch('api/me', {
				method: 'GET',
				headers: {
					'Authorization': 'Bearer ' + token
				}
			}).then(function (response) {
				return response.text();
			}).then(function (result) {
				document.getElementById('me-result').innerText = result;
			});
		}

	</script>
</head>
<body>

	<section>
		<h2>Sign Up</h2>
		<form onsubmit="signup(event)">
			Login: <input id="signup-login" /><br />
			Password: <input id="signup-password" /><br />
			Name: <input id="signup-name" /><br />
			<input type="submit" />
		</form>
		<div id="signup-result" style="width:500px;overflow:auto;"></div>
	</section>

	<section>
		<h2>Sign In</h2>
		<form onsubmit="signin(event)">
			Login: <input id="signin-login" /><br />
			Password: <input id="signin-password" /><br />
			<input type="submit" />
		</form>
		<div id="signin-result" style="width:500px;overflow:auto;"></div>
	</section>

	<section>
		<h2>Me</h2>
		<form onsubmit="me(event)">
			Token: <input id="me-token" /><br />
			<input type="submit" />
		</form>
		<div id="me-result" style="width:500px;overflow:auto;"></div>
	</section>

</body>
</html>